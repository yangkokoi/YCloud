import{f as p,A as d,bZ as l,bv as m,t as g,bE as f,o as w,m as h,q as v,x,w as y,n as a,aX as b}from"./index.5d1b28f5.js";import{m as i}from"./main.471a77df.js";import{_ as E}from"./_plugin-vue_export-helper.cdc0426e.js";import"./use-message.c54d7482.js";import"./composables.7c04918d.js";const k=i(),B=t=>k.login(t),$={id:"user-login"},L={id:"login-card"},N=a(" \u70B9\u6211\u767B\u5F55 "),R=a(" Success "),S=p({__name:"Login",setup(t){const r=d("$api"),o=l(),c=m({username:"guest",password:"123456"});g(()=>{f().params.msg});const n=function(s){if(s.origin===r.SERVER_BASE){let e=JSON.parse(s.data);console.log(e),e.code==200?(i().setToken(e.token),o.push({name:"Explore",params:{login:!0}}),window.$message({title:e.msg,type:"success"})):window.$message({title:e.msg,type:"warning"}),window.removeEventListener("message",n)}},_=function(s){if(typeof s=="string"){let e="width=600,height=500,top=100,left=100,menubar=yes,location=yes,resizable=yes,scrollbars=true,status=true";window.open(s,"_blank",e),window.addEventListener("message",n)}else B(c).then(e=>{o.push({path:"/explorer/local"})})};return(s,e)=>{const u=b;return w(),h("div",$,[v("div",L,[N,x(u,{type:"success",onClick:_},{default:y(()=>[R]),_:1})])])}}});const T=E(S,[["__scopeId","data-v-6a4ca0c6"]]);export{T as default};
